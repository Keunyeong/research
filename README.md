# 공항 이용 고객 조사 페이지 작성

## 사용 기술

javascript, react.js

styled-components

firebase (firestore)

write-excel-file

contextAPI

## 기능

#### 1. 조사원 로그인, 작성 조사원 이름 등록.

#### 2. 조사 분류별 다른 작성 페이지

#### 3. 한번에 여러명을 관찰하여 여러개를 한번에 작성할 수 있도록 제작.

#### 4. 데이터 저장 & 중간 저장

#### 5. 관리자로 접속하여 쌓인 데이터를 일자별, 조사 분류별로 엑셀로 다운로드.

## 구현

### 1. 조사원 로그인, 작성 조사원 이름 등록.

#### 1) 로그인

- firestore에 user collection 을 만들고 id, pw, name 등 정보 저장

- firestore 데이터를 읽어 로그인 정보 비교하여 로그인.

- 등록은 직접 firestore의 firebase 페이지를 통해 등록 (추후 등록페이지 작성 예정)

#### 2) 조사원 이름

- firestore 데이터와 비교하여 로그인 후 유저 정보를 읽어옴.

- 읽어온 유저 정보를 contextAPI 로 관리하여 전역에서 사용하도록 함.

- id는 sessionStorage에 저장하여 사용.

- 새로고침하면 리셋되는 contextAPI 문제 해결

### 2. 조사 분류별 다른 작성 페이지

#### 1) 조사 분류별 리스트 작성

- firestore에 list collection 을 만들고 리스트 등록

- 등록된 list를 불러 오도록 함.

#### 2) 조사 분류별 다른 페이지

- 조사 분류를 선택하면 조사 분류 정보를 sessionStorage에 저장하여 사용.

- 페이지별로 다른 문항을 작성하여야 하기 때문에 component를 잘 쪼개 역할에 맞게 재사용하도록 구성.

### 3. 한번에 여러명을 관찰하여 여러개를 한번에 작성할 수 있도록 제작.

#### 1) 한번에 여러명 관찰

- 공통 정보와 개별 정보를 구분하여 component를 구성함.

- 개별 정보 component는 사람을 추가하거나 삭제할 수 있도록 제작.

### 4. 데이터 저장 & 중간 저장

### 5. 관리자로 접속하여 쌓인 데이터를 일자별, 조사 분류별로 엑셀로 다운로드.

#### 1) 데이터 보관

- 일자별로 collection을 만들어 저장.

- 조사 분류 구분은 조사 분류 code로 구분.

#### 2) 엑셀로 다운로드

- 엑셀로 작성되도록 데이터를 가공.

- 마스터 아이디로 로그인 하면 조사시작이 아닌 다운로드로 생성.

- 마스터 아이디는 상단에 일자를 변경할 수 있도록 구현.
